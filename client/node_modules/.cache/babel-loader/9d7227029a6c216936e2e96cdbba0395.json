{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\InfinityGear\\\\Desktop\\\\Projects\\\\coinscopeAssignment\\\\client\\\\src\\\\pages\\\\Markets.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Markets = () => {\n  _s();\n  const navigate = useNavigate(); //navigate through about page with passing data of chosen coin\n  const [coinList, setCoinList] = useState([]); //list of all coins\n  const [showMoreCounter, setShowMoreCounter] = useState(0); //fetch more coins\n\n  //customize the value for search bar in about page\n  const checkName = str => {\n    if (str.includes(\" \")) {\n      return str.replace(\" \", \"-\").toLowerCase();\n    }\n    return str.toLowerCase();\n  };\n\n  //fetch coins by pressing show more button\n  const showMoreCoins = () => {\n    let URL = \"http://localhost:5000/api/markets?page=\" + (showMoreCounter + 1).toString();\n    axios.get(URL).then(res => {\n      let tmpList = coinList;\n      for (let i = 0; i < res.data.length; i++) {\n        tmpList.push(res.data[i]);\n      }\n      setCoinList(tmpList);\n      setShowMoreCounter(showMoreCounter + 1);\n\n      //keep the coins that we fetched when we switch to pages\n      localStorage.setItem(\"allInfo\", JSON.stringify({\n        showMore: showMoreCounter + 1,\n        coinList: coinList\n      }));\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n\n  //get the coins if exist in local storage\n  useEffect(() => {\n    const allInfo = JSON.parse(localStorage.getItem(\"allInfo\"));\n    if (allInfo !== null) {\n      setShowMoreCounter(allInfo.showMore);\n      setCoinList(allInfo.coinList);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"w-full mt-16 w-11/12 ml-80\",\n      id: \"marketsContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"text-base font-medium text-gray-700 border-b border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"pl-10 mr-10 text-gray-700\",\n            children: \"Coin basic information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"py-4 px-4 text-center text-gray-700\",\n            children: \"Current price (USD)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"py-4 px-4 text-center text-gray-700\",\n            children: \"Highest price (USD) (24 hours)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"py-4 px-4 text-center text-gray-700\",\n            children: \"Lowest price (USD) (24 hours)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"py-4 px-4 text-center text-gray-700\",\n            children: \"Price change in percentage (24 hours)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",\n              onClick: showMoreCoins,\n              children: \"Show more\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: coinList.map(elem => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"text-base font-medium text-gray-700 border-b border-gray-200 \",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"flex gap-x-4 items-center py-4 pl-10\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"w-200 p-2 hover:rounded-md hover:bg-gray-200 flex-row\",\n                onClick: () => {\n                  console.log(elem.name);\n                  const stateTransfer = {\n                    coinId: checkName(elem.name)\n                  };\n                  navigate(\"/about\", {\n                    state: {\n                      stateTransfer\n                    }\n                  });\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: elem.image,\n                  alt: \"\",\n                  className: \"rounded-lg object-cover object-top border border-gray-200\",\n                  width: \"100px\",\n                  height: \"100px\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center flex-col\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: elem.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: [\"(\", elem.symbol.toUpperCase(), \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"font-medium text-center\",\n              children: [elem.current_price, \" (USD)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"font-medium text-center\",\n              children: [elem.high_24h, \" (USD)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"font-medium text-center\",\n              children: [elem.low_24h, \" (USD)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"font-medium text-center\",\n              children: elem.price_change_percentage_24h\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this)]\n          }, elem + elem, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(Markets, \"PS3DraBHsdVTKnXlkHEWdL1+yDY=\", false, function () {\n  return [useNavigate];\n});\n_c = Markets;\nexport default Markets;\nvar _c;\n$RefreshReg$(_c, \"Markets\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","Markets","navigate","coinList","setCoinList","showMoreCounter","setShowMoreCounter","checkName","str","includes","replace","toLowerCase","showMoreCoins","URL","toString","get","then","res","tmpList","i","data","length","push","localStorage","setItem","JSON","stringify","showMore","catch","error","console","allInfo","parse","getItem","map","elem","log","name","stateTransfer","coinId","state","image","symbol","toUpperCase","current_price","high_24h","low_24h","price_change_percentage_24h"],"sources":["C:/Users/InfinityGear/Desktop/Projects/coinscopeAssignment/client/src/pages/Markets.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Markets = () => {\r\n  const navigate = useNavigate(); //navigate through about page with passing data of chosen coin\r\n  const [coinList, setCoinList] = useState([]); //list of all coins\r\n  const [showMoreCounter, setShowMoreCounter] = useState(0); //fetch more coins\r\n\r\n  //customize the value for search bar in about page\r\n  const checkName = (str) => {\r\n    if (str.includes(\" \")) {\r\n      return str.replace(\" \", \"-\").toLowerCase();\r\n    }\r\n\r\n    return str.toLowerCase();\r\n  };\r\n\r\n  //fetch coins by pressing show more button\r\n  const showMoreCoins = () => {\r\n    let URL =\r\n      \"http://localhost:5000/api/markets?page=\" +\r\n      (showMoreCounter + 1).toString();\r\n\r\n    axios\r\n      .get(URL)\r\n      .then((res) => {\r\n        let tmpList = coinList;\r\n        for (let i = 0; i < res.data.length; i++) {\r\n          tmpList.push(res.data[i]);\r\n        }\r\n\r\n        setCoinList(tmpList);\r\n        setShowMoreCounter(showMoreCounter + 1);\r\n\r\n        //keep the coins that we fetched when we switch to pages\r\n        localStorage.setItem(\r\n          \"allInfo\",\r\n          JSON.stringify({ showMore: showMoreCounter + 1, coinList: coinList })\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  };\r\n\r\n  //get the coins if exist in local storage\r\n  useEffect(() => {\r\n    const allInfo = JSON.parse(localStorage.getItem(\"allInfo\"));\r\n    if (allInfo !== null) {\r\n      setShowMoreCounter(allInfo.showMore);\r\n      setCoinList(allInfo.coinList);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <table className=\"w-full mt-16 w-11/12 ml-80\" id=\"marketsContainer\">\r\n        <thead>\r\n          <tr className=\"text-base font-medium text-gray-700 border-b border-gray-200\">\r\n            <td className=\"pl-10 mr-10 text-gray-700\">\r\n              Coin basic information\r\n            </td>\r\n            <td className=\"py-4 px-4 text-center text-gray-700\">\r\n              Current price (USD)\r\n            </td>\r\n            <td className=\"py-4 px-4 text-center text-gray-700\">\r\n              Highest price (USD) (24 hours)\r\n            </td>\r\n            <td className=\"py-4 px-4 text-center text-gray-700\">\r\n              Lowest price (USD) (24 hours)\r\n            </td>\r\n            <td className=\"py-4 px-4 text-center text-gray-700\">\r\n              Price change in percentage (24 hours)\r\n            </td>\r\n            <td>\r\n              <button\r\n                className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\r\n                onClick={showMoreCoins}\r\n              >\r\n                Show more\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {coinList.map((elem) => {\r\n            return (\r\n              <tr\r\n                className=\"text-base font-medium text-gray-700 border-b border-gray-200 \"\r\n                key={elem + elem}\r\n              >\r\n                <td className=\"flex gap-x-4 items-center py-4 pl-10\">\r\n                  <button\r\n                    className=\"w-200 p-2 hover:rounded-md hover:bg-gray-200 flex-row\"\r\n                    onClick={() => {\r\n                      console.log(elem.name);\r\n\r\n                      const stateTransfer = { coinId: checkName(elem.name) };\r\n                      navigate(\"/about\", { state: { stateTransfer } });\r\n                    }}\r\n                  >\r\n                    <img\r\n                      src={elem.image}\r\n                      alt=\"\"\r\n                      className=\"rounded-lg object-cover object-top border border-gray-200\"\r\n                      width=\"100px\"\r\n                      height=\"100px\"\r\n                    />\r\n                    <div className=\"flex justify-between items-center flex-col\">\r\n                      <h3>{elem.name}</h3>\r\n                      <h4>({elem.symbol.toUpperCase()})</h4>\r\n                    </div>\r\n                  </button>\r\n                </td>\r\n                <td className=\"font-medium text-center\">\r\n                  {elem.current_price} (USD)\r\n                </td>\r\n                <td className=\"font-medium text-center\">\r\n                  {elem.high_24h} (USD)\r\n                </td>\r\n                <td className=\"font-medium text-center\">\r\n                  {elem.low_24h} (USD)\r\n                </td>\r\n                <td className=\"font-medium text-center\">\r\n                  {elem.price_change_percentage_24h}\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Markets;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}